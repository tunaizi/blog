import{t as e,n as t,C as s,l as a,x as o,r as l,g as i,h as n,v as c,i as r,k as u,o as d,b as f,m as p,e as h,_ as m,G as v,f as g,F as y,j as b,A as k}from"./framework.ec0adba5.js";import{e as w,f as C}from"./index.d4e0297f.js";const I="undefined"!=typeof window,S=(e,t=!1)=>I?JSON.parse(localStorage.getItem(e)||String(t)):t,P="vue-docs-prefer-composition",A=e(S(P,!0)),_="vue-docs-prefer-sfc",L=e(S(_,!0));function O(e){return A.value?!e.optionsOnly:!e.compositionOnly}const x={key:0,class:"preference-tooltip"},q=m(t({__name:"PreferenceTooltip",setup(t){const m=e(!1),{page:v}=s();let g=!(!I||null!==localStorage.getItem(P))&&"default";if(I){const e=location.search.match(/[\?&]api=(\w+)/),t=e&&e[1];if("composition"===t)y(!0,"url-query");else if("options"===t)y(!1,"url-query");else if(location.hash){const e=function e(t,s){for(const a of t){if(a.link===s)return a;if(a.children){const t=e(a.children,s);if(t)return t}}}(v.value.headers,location.hash);e&&e.optionsOnly?y(!1,"url-header"):e&&e.compositionOnly&&y(!0,"url-header")}}function y(e,t){e&&!A.value?(g=t,A.value=!0,document.documentElement.classList.add("prefer-composition")):!e&&A.value&&(g=t,A.value=!1,document.documentElement.classList.remove("prefer-composition"))}function b(){m.value=!1,"default"===g&&localStorage.setItem(P,String(A.value))}return a((()=>{if(!v.value.relativePath.startsWith("tutorial/")&&!1!==g){m.value=!0;const e=o(A,(()=>{m.value=!1,e()}))}})),(e,t)=>(l(),i(c,{name:"fly-in"},{default:n((()=>[m.value?(l(),r("div",x,["default"===u(g)?(l(),r(d,{key:0},[t[0]||(t[0]=f("p",null,"API style now defaults to Composition API.",-1)),t[1]||(t[1]=f("p",null," Some pages contain different content based on the API style chosen. Use this switch to toggle between APIs styles. ",-1))],64)):p("",!0),u(g)&&u(g).startsWith("url")?(l(),r(d,{key:1},[f("p",null," Showing content for "+h(u(A)?"Composition":"Options")+" API because "+h("url-query"===u(g)?"it is specified by the URL query.":"the target section is only available for that API."),1),t[2]||(t[2]=f("p",null," This is different from your saved preference and will only affect the current browsing session. ",-1))],64)):p("",!0),f("p",{class:"actions"},[t[3]||(t[3]=f("a",{href:"/guide/introduction#api-styles"},"Learn more",-1)),f("button",{onClick:b},"Got it")]),t[4]||(t[4]=f("div",{class:"arrow-top"},null,-1)),t[5]||(t[5]=f("div",{class:"arrow-top inner"},null,-1))])):p("",!0)])),_:1}))}}),[["__scopeId","data-v-dbbcc10a"]]),j={key:0,class:"preference-switch"},E=["aria-expanded"],F=["hidden","aria-hidden"],T={class:"switch-container"},G={key:0,class:"switch-container"},J=m(t({__name:"PreferenceSwitch",setup(t){const s=v(),a=g((()=>/^\/(guide|tutorial|examples|style-guide)\//.test(s.path))),o=g((()=>!/^\/guide|style-guide/.test(s.path)));let i=e(!0);const n=()=>{i.value=!i.value},c=e=>{e.target.classList.add("no-outline")},d=e=>{e.target.classList.remove("no-outline")},h=S(P,A,"prefer-composition"),m=S(_,L,"prefer-sfc"),I=y("close-sidebar");function S(e,t,s){if("undefined"==typeof localStorage)return()=>{};const a=document.documentElement.classList;return(o=!t.value)=>{(t.value=o)?a.add(s):a.remove(s),localStorage.setItem(e,String(t.value))}}return(e,t)=>a.value?(l(),r("div",j,[f("button",{class:"toggle","aria-label":"preference switches toggle","aria-controls":"preference-switches","aria-expanded":u(i),onClick:n,onMousedown:c,onBlur:d},[t[8]||(t[8]=f("span",null,"API Preference",-1)),b(u(w),{class:k(["vt-link-icon",{open:u(i)}])},null,8,["class"])],40,E),f("div",{id:"preference-switches",hidden:!u(i),"aria-hidden":!u(i)},[f("div",T,[f("label",{class:"options-label",onClick:t[0]||(t[0]=e=>u(h)(!1))},"Options"),b(u(C),{class:"api-switch","aria-label":"prefer composition api","aria-checked":u(A),onClick:t[1]||(t[1]=e=>u(h)())},null,8,["aria-checked"]),f("label",{class:"composition-label",onClick:t[2]||(t[2]=e=>u(h)(!0))},"Composition"),f("a",{class:"switch-link",title:"About API preference",href:"/guide/introduction.html#api-styles",onClick:t[3]||(t[3]=(...e)=>u(I)&&u(I)(...e))},"?"),b(q)]),o.value?(l(),r("div",G,[f("label",{class:"no-sfc-label",onClick:t[4]||(t[4]=e=>u(m)(!1))},"HTML"),b(u(C),{class:"sfc-switch","aria-label":"prefer single file component","aria-checked":u(L),onClick:t[5]||(t[5]=e=>u(m)())},null,8,["aria-checked"]),f("label",{class:"sfc-label",onClick:t[6]||(t[6]=e=>u(m)(!0))},"SFC"),f("a",{class:"switch-link",title:"About SFC",href:"/guide/scaling-up/sfc.html",onClick:t[7]||(t[7]=(...e)=>u(I)&&u(I)(...e))},"?")])):p("",!0)],8,F)])):p("",!0)}}),[["__scopeId","data-v-e02760d0"]]);export{J as P,L as a,O as f,A as p};
