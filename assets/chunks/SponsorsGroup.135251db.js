import{n as $,t as v,l as h,y as S,r as t,i as r,k as n,o as I,p as G,m as u,A as T,b as g,_ as C}from"./framework.8a6edf47.js";import{l as L,d as p,b as f}from"./sponsors.7b585e86.js";const O=["href"],U={key:0},w=["srcset"],A=["src","alt"],D=["src","alt"],M=$({__name:"SponsorsGroup",props:{tier:{},placement:{default:"aside"}},setup(k){const o=k,d=v(),m=v(!1);h(async()=>{const e=new IntersectionObserver(s=>{s[0].isIntersecting&&(m.value=!0,e.disconnect())},{rootMargin:"0px 0px 300px 0px"});e.observe(d.value),S(()=>e.disconnect()),await L()});const y={aside:"4QUPDDRU",landing:"58FLAR2Z",page:"ZXLO3IUT"};function l(e){fathom.trackGoal(e?"Y2BVYNT2":y[o.placement],0)}function b(e){let s=e[o.tier];return o.placement==="aside"&&(o.tier==="platinum"?s=s.filter(i=>!i.priority):o.tier==="special"&&(s=[...s,...e.platinum.filter(i=>i.priority)])),s}return(e,s)=>{var i;return t(),r("div",{ref_key:"container",ref:d,class:T(["sponsor-container",[e.tier==="platinum_china"?"special":e.tier,e.placement]])},[n(p)&&m.value?(t(!0),r(I,{key:0},G(b(n(p)),({url:c,img:a,name:_})=>(t(),r("a",{class:"sponsor-item",href:c,target:"_blank",rel:"sponsored noopener",onClick:s[0]||(s[0]=R=>l())},[a.endsWith("png")?(t(),r("picture",U,[g("source",{type:"image/avif",srcset:`${n(f)}/images/${a.replace(/\.png$/,".avif")}`},null,8,w),g("img",{src:`${n(f)}/images/${a}`,alt:_},null,8,A)])):(t(),r("img",{key:1,src:`${n(f)}/images/${a}`,alt:_},null,8,D))],8,O))),256)):u("",!0),e.placement!=="page"&&e.tier!=="special"?(t(),r("a",{key:1,href:"/sponsor/",class:"sponsor-item action",onClick:s[1]||(s[1]=c=>l(!0))},"成为赞助商")):u("",!0),e.tier==="special"&&n(p)&&!((i=n(p)[e.tier])!=null&&i.length)?(t(),r("a",{key:2,href:"/sponsor/#tier-benefits",class:"sponsor-item action",onClick:s[2]||(s[2]=c=>l(!0))},"Inquire about Special Sponsorship")):u("",!0)],2)}}});const j=C(M,[["__scopeId","data-v-6c51688a"]]);export{j as S};
